{{/*
  Gallery List Template
  Renders all sub-galleries in content/gallery/ as a grid
*/}}
{{ define "main" }}
<link rel="stylesheet" href="/css/gallery-grid.css">

{{ partial "gallery-breadcrumbs.html" . }}
<div class="photo-gallery">
  {{ range .Pages }}
    {{ $p := . }}
    {{ if $p.Params.image }}
      <a class="gallery-item" href="{{ $p.RelPermalink }}">
        <img class="gallery-thumb" src="{{ $p.Params.image }}" alt="{{ $p.Title }} thumbnail" loading="lazy">
        <div class="gallery-title">{{ $p.Title }}</div>
      </a>
    {{ else }}
      <a class="gallery-item" href="{{ $p.RelPermalink }}">
        <div class="gallery-thumb gallery-thumb-placeholder">No image</div>
        <div class="gallery-title">{{ $p.Title }}</div>
      </a>
    {{ end }}
  {{ end }}
</div>

  {{- if (and site.Params.ShowShareButtons (ne .Params.disableShare true)) }}
    {{- partial "share_icons.html" . -}}
  {{- end }}
{{ end }}